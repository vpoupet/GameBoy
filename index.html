<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./style.css">
    <link rel="modulepreload" href="src/cpu.js">
    <link rel="modulepreload" href="src/dmg.js">
    <link rel="modulepreload" href="src/mmu.js">
    <link rel="modulepreload" href="src/opcodes.js">
    <link rel="modulepreload" href="src/ppu.js">
    <link rel="modulepreload" href="src/roms.js">
  </head>
  <body>
    <div>
      <canvas id="screen"></canvas>
    </div>
    <div>
      <select id="rom-select" name="rom">
        <option value="tetris">Tetris</option>
        <option value="drmario">Dr. Mario</option>
        <option value="sml">Super Mario Land</option>
        <option value="kirby">Kirby's Dream Land</option>
        <option value="zelda">The Legend of Zelda - Link's Awakening</option>
        <option value="opus5">Opus 5</option>
        <option value="ttt">Tic Tac Toe</option>
        <option value="test01">01 Special</option>
        <option value="test02">02 Interrupt</option>
        <option value="test03">03 op sp,hl</option>
        <option value="test04">04 op r,imm</option>
        <option value="test05">05 op rp</option>
        <option value="test06">06 ld r,r</option>
        <option value="test07">07 jr,jp,call,ret,rst</option>
        <option value="test08">08 misc instrs</option>
        <option value="test09">09 op r,r</option>
        <option value="test10">10 bit ops</option>
        <option value="test11">11 op a,(hl)</option>
        <option value="cputest">cpu test</option>
      </select>
      <input id="skip-boot" type="checkbox" name="skip-boot" checked>
      <label for="skip-boot">Skip boot</label>
    </div>
    <div id="buttons">
      <button id="start-button">Start</button>
      <button id="frame-button">Frame</button>
      <button id="step-button">Step</button>
      <button id="reset-button">Reset</button>
      <button id="refresh-button">Refresh</button>
    </div>
    <div id="break">
      <input id="break-condition" type="text" value="0x100">
      <button id="break-button">Run to Break</button>
    </div>
    <div id="cpu-info"><span id="cpu-clock">clk: 0</span>
      <table id="registers-table">
        <tr>
          <th>AF</th>
          <th>BC</th>
          <th>DE</th>
          <th>HL</th>
          <th>SP</th>
          <th>PC</th>
          <th>ZNHC</th>
        </tr>
        <tr id="registers-row">
          <td>0000</td>
          <td>0000</td>
          <td>0000</td>
          <td>0000</td>
          <td>0000</td>
          <td>0000</td>
          <td>0000</td>
        </tr>
      </table>
    </div>
    <div id="previous-asm"></div>
    <div id="asm"></div>
    <canvas id="tiles"></canvas>
    <canvas id="background0"></canvas>
    <canvas id="background1"></canvas>
    <div>
      <input id="address" type="text" value="0000">
      <button id="address-up-button">↑</button>
      <button id="address-down-button">↓</button>
      <button onclick="gb.setViewAddress(0x0000);">Bank 0</button>
      <button onclick="gb.setViewAddress(0x4000);">Bank 1</button>
      <button onclick="gb.setViewAddress(0x8000);">VRAM</button>
      <button onclick="gb.setViewAddress(0xA000);">ExtRAM</button>
      <button onclick="gb.setViewAddress(0xC000);">WRAM 0</button>
      <button onclick="gb.setViewAddress(0xD000);">WRAM 1</button>
      <button onclick="gb.setViewAddress(0xFE00);">OAM</button>
      <button onclick="gb.setViewAddress(0xFF80);">HRAM</button>
      <table id="memory">
        <thead>
          <tr>
            <td></td>
            <td>0</td>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
            <td>7</td>
            <td>8</td>
            <td>9</td>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
            <td>F</td>
          </tr>
        </thead>
        <tbody id="memory-tbody"></tbody>
      </table>
    </div>
    <div id="serial-output"></div>
    <script src="index.js" type="module"></script>
  </body>
</html>